import{w as c}from"./index.7184f1a5.js";import{k as n}from"./scheduler.ceb96720.js";function i(e,t){{const s=localStorage.getItem(`setting.${e}`);if(s)return JSON.parse(s)}return t}function u(e,t){localStorage.setItem(`setting.${e}`,JSON.stringify(t))}function r(e,t,s){const o=e.searchParams.get(t);if(o){if(o==="true")return!0;if(o==="false")return!1}return s}function d(e,t,s){const o=e.searchParams.get(t);if(o){const f=parseInt(o);if(!isNaN(f))return f}return s}function l(e,t,s){const o=e.searchParams.get(t);return o||s}function S(e){e==m.DARK?document.documentElement.classList.add("dark"):e==m.LIGHT?document.documentElement.classList.remove("dark"):e==m.SYSTEM&&(window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}var m=(e=>(e.DARK="dark",e.LIGHT="light",e.SYSTEM="system",e))(m||{});function a(){return{autoplay:!1,engine:"https://engine.battlesnake.com",fps:6,game:"",loop:!1,showControls:!0,showCoords:!1,showScrubber:!1,showScoreboard:!0,theme:"system",title:"",turn:0}}const h=c(i("autoplay",a().autoplay));h.subscribe(e=>{u("autoplay",e)});const b=c(i("fps",a().fps));b.subscribe(e=>{u("fps",e)});const g=c(i("showCoords",a().showCoords));g.subscribe(e=>{u("showCoords",e)});const p=c(i("showScrubber",a().showScrubber));p.subscribe(e=>{u("showScrubber",e)});const w=c(i("theme",a().theme));w.subscribe(e=>{u("theme",e),S(e)});function y(e){const t=a();return{autoplay:r(e,"autoplay",n(h)),fps:d(e,"fps",n(b)),showCoords:r(e,"showCoords",n(g)),showScrubber:r(e,"showScrubber",n(p)),theme:l(e,"theme",n(w)),engine:l(e,"engine",t.engine),game:l(e,"game",t.game),loop:r(e,"loop",t.loop),showControls:r(e,"showControls",t.showControls),showScoreboard:r(e,"showScoreboard",t.showScoreboard),title:l(e,"title",t.title),turn:d(e,"turn",t.turn)}}export{h as a,g as b,p as c,b as f,a as g,y as l,S as s,w as t};
